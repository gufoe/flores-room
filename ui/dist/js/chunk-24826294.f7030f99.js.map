{"version":3,"sources":["webpack:///./src/views/host/manage-place.vue?572a","webpack:///src/views/host/manage-place.vue","webpack:///./src/views/host/manage-place.vue?c1b3","webpack:///./src/views/host/manage-place.vue","webpack:///./src/views/host/manage-place.vue?deab","webpack:///./node_modules/core-js/modules/es6.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","place","on","$event","$router","push","name","_v","_s","$route","attrs","$t","rooms","filter","r","is_active","length","params","id","toggleActive","is_verified","_e","bookings","staticRenderFns","data","created","console","log","methods","loadPlace","with_bookings","safe_write","$http","get","post","document","body","focus","trigger","watch","immediate","handler","n","o","component","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","match","e"],"mappings":"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","file":"js/chunk-24826294.f7030f99.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-manage-place mx-2\"},[(!_vm.place)?_c('loading-screen',[_vm._v(\"\\n    Loading data...\\n  \")]):_c('div',[_c('h1',{on:{\"click\":function($event){return _vm.$router.push({name:'manage-place'})}}},[_vm._v(_vm._s(_vm.place.name))]),(_vm.$route.name != 'manage-place')?_c('router-view',{attrs:{\"place\":_vm.place}}):_c('div',{staticClass:\"mt-3\"},[_c('div',{staticClass:\"lh-2 my-3\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t((\"place_type.\" + (_vm.place.type))))+\"\\n        -\\n        \"),(_vm.place.is_active)?_c('span',{staticClass:\"text-success\"},[_vm._v(\"active\")]):_c('span',{staticClass:\"text-danger\"},[_vm._v(\"suspended\")]),_vm._v(\"\\n        -\\n        \"+_vm._s(_vm.place.rooms.filter(function (r) { return r.is_active; }).length)+\" rooms\\n      \")]),_c('div',{staticClass:\"lh-2 my-3\"},[_c('button',{staticClass:\"btn btn-outline-success\",on:{\"click\":function($event){return _vm.$router.push({ name: 'edit-place', params: { id: _vm.place.id }})}}},[_vm._v(\"Edit Info\")]),_vm._v(\"\\n         \\n        \"),_c('button',{staticClass:\"btn btn-outline-info\",on:{\"click\":function($event){return _vm.$router.push({ name: 'manage-rooms', params: { id: _vm.place.id }})}}},[_vm._v(\"Edit Rooms\")]),_vm._v(\"\\n         \\n        \"),_c('button',{staticClass:\"btn btn-outline-warning\",on:{\"click\":_vm.toggleActive}},[_vm._v(_vm._s(_vm.place.is_active ? 'Suspend' : 'Activate'))])]),(!_vm.place.is_verified)?_c('div',{staticClass:\"my-3 text-danger\"},[_vm._v(\"\\n        This place has not been verified. Please contact us to verify this place.\\n      \")]):_vm._e(),_c('div',{staticClass:\"mt-4\"},[_c('h3',[_vm._v(\"Bookings\")]),_vm._v(\"\\n        You have \"+_vm._s(_vm.place.bookings.length)+\" bookings so far.\\n      \")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"page-manage-place mx-2\">\n    <loading-screen v-if=\"!place\">\n      Loading data...\n    </loading-screen>\n    <div v-else>\n      <h1 @click=\"$router.push({name:'manage-place'})\">{{ place.name }}</h1>\n      <router-view v-if=\"$route.name != 'manage-place'\" :place=\"place\"/>\n      <div v-else class=\"mt-3\">\n        <div class=\"lh-2 my-3\">\n          {{ $t(`place_type.${place.type}`) }}\n          -\n          <span v-if=\"place.is_active\" class=\"text-success\">active</span>\n          <span v-else class=\"text-danger\">suspended</span>\n          -\n          {{ place.rooms.filter(r => r.is_active).length }} rooms\n        </div>\n        <div class=\"lh-2 my-3\">\n          <button @click=\"$router.push({ name: 'edit-place', params: { id: place.id }})\" class=\"btn btn-outline-success\">Edit Info</button>\n          &nbsp;\n          <button @click=\"$router.push({ name: 'manage-rooms', params: { id: place.id }})\" class=\"btn btn-outline-info\">Edit Rooms</button>\n          &nbsp;\n          <button @click=\"toggleActive\" class=\"btn btn-outline-warning\">{{ place.is_active ? 'Suspend' : 'Activate' }}</button>\n        </div>\n        <div class=\"my-3 text-danger\" v-if=\"!place.is_verified\">\n          This place has not been verified. Please contact us to verify this place.\n        </div>\n\n        <div class=\"mt-4\">\n          <h3>Bookings</h3>\n          You have {{ place.bookings.length }} bookings so far.\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      place: null,\n    }\n  },\n\n  created() {\n    console.log('created', this.$route.name)\n  },\n\n  methods: {\n    loadPlace () {\n      let id = this.$route.params.id\n      let params = {\n        with_bookings: true,\n        safe_write: true,\n      }\n      this.place = null\n      this.$http.get(`places/${id}`, { params }).then(res => {\n        this.place = res.data\n      })\n    },\n\n    toggleActive () {\n      this.$http.post(`places/${this.place.id}/toggle-active`).then(res => {\n        this.place.is_active = res.data.is_active\n        if (this.place.user_id == this.$store.user.id) this.$store.refreshUser()\n        document.body.focus()\n        document.body.trigger('click')\n      })\n    },\n  },\n\n  watch: {\n    '$route.params.id': {\n      immediate: true,\n      handler (n, o) {\n        if (n != o) this.loadPlace()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.page-place-place {\n\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manage-place.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manage-place.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manage-place.vue?vue&type=template&id=eefcc4d8&lang=html&\"\nimport script from \"./manage-place.vue?vue&type=script&lang=js&\"\nexport * from \"./manage-place.vue?vue&type=script&lang=js&\"\nimport style0 from \"./manage-place.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manage-place.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manage-place.vue?vue&type=style&index=0&lang=scss&\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}