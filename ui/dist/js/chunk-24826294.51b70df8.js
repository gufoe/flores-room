(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24826294"],{"3f63":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.place?n("div",{staticClass:"page-manage-place"},[n("div",{staticClass:"text-center"},[n("h1",{on:{click:function(e){return t.$router.push({name:"manage-place"})}}},[t._v(t._s(t.place.name))])]),"manage-place"!=t.$route.name?n("router-view",{attrs:{place:t.place}}):n("div",[n("div",{staticClass:"text-center"},[n("div",{staticClass:"lh-2 my-3"},[t._v("\n        "+t._s(t.$t("place_type."+t.place.type))+"\n        -\n        "),t.place.is_active?n("span",{staticClass:"text-success"},[t._v("active")]):n("span",{staticClass:"text-danger"},[t._v("suspended")]),t._v("\n        -\n        "+t._s(t.place.rooms.filter((function(t){return t.is_active})).length)+" rooms\n      ")]),n("div",{staticClass:"lh-2 my-3"},[n("button",{staticClass:"btn btn-outline-success",on:{click:function(e){return t.$router.push({name:"edit-place",params:{id:t.place.id}})}}},[t._v("Edit Info")]),t._v("\n         \n        "),n("button",{staticClass:"btn btn-outline-info",on:{click:function(e){return t.$router.push({name:"manage-rooms",params:{id:t.place.id}})}}},[t._v("Edit Rooms")]),t._v("\n         \n        "),n("button",{staticClass:"btn btn-outline-warning",on:{click:t.toggleActive}},[t._v(t._s(t.place.is_active?"Suspend":"Activate"))])]),t.place.is_verified?t._e():n("div",{staticClass:"my-3 text-danger"},[t._v("\n        This place has not been verified. Please contact us to verify this place.\n      ")])]),n("div",{staticClass:"host-bookings my-5"},[n("div",{staticClass:"text-center"},[n("h2",[t._v("Bookings")]),t._v("\n        You have "+t._s(t.place.bookings.length)+" bookings so far.\n      ")]),n("table",{staticClass:"table"},[n("tbody",[t._l(t.place.bookings,(function(e,a){return[a&&e.check_in==t.place.bookings[a-1].check_in?t._e():[n("tr",{key:"day-"+e.id,staticClass:"day"},[n("td",{attrs:{colspan:"3"}},[n("div",[t._v("\n                    "+t._s(t.$d(t.$utc(e.check_in),"datelong"))+"\n                  ")])])]),n("tr",{key:"head-"+e.id,staticClass:"head"},[n("td",[t._v(" Main guest ")]),n("td",{staticClass:"text-center"},[t._v(" People ")]),n("td",{staticClass:"text-right"},[t._v(" Check out ")])])],n("tr",{key:e.id,class:{booking:1,expanded:t.expanded[e.id]},on:{click:function(n){return t.$set(t.expanded,e.id,!t.expanded[e.id])}}},[n("td",[t._v("\n                "+t._s(e.user.name)+"\n              ")]),n("td",{staticClass:"text-center"},[t._v("\n                "+t._s(e.guest_number)+"\n              ")]),n("td",{staticClass:"text-right"},[t._v("\n                "+t._s(t.$d(t.$utc(e.check_out),"date"))+"\n              ")])]),t.expanded[e.id]?n("tr",{key:"detail"+e.id,staticClass:"detail",on:{click:function(n){return t.$delete(t.expanded,e.id)}}},[n("td",{attrs:{colspan:"3"}},[t._v("\n                Code: "),n("b",{staticClass:"select"},[t._v(t._s(e.code))]),n("br"),t._v("\n                Booking date: "),n("b",[t._v(t._s(t.$d(t.$utc(e.created_at),"datetime")))]),n("br"),t._v("\n                Nights: "),n("b",[t._v(t._s(e.guest_number))]),n("br"),n("div",{staticClass:"units"},t._l(e.units,(function(e){return(t.room=e.room)?n("div",{key:e.id,staticClass:"unit"},[n("b",[t._v(t._s(t.room.name))]),t.room.is_dorm?n("div",[e.b1_count?n("div",[t._v("\n                        "+t._s(e.b1_count)+" "+t._s(t.$t("bed_type.single"))+" bed\n                      ")]):t._e(),e.b2_count?n("div",[t._v("\n                        "+t._s(e.b2_count)+" "+t._s(t.$t("bed_type.double"))+" bed\n                      ")]):t._e()]):n("div",[t._v("\n                      Full private room\n                    ")])]):t._e()})),0)])]):t._e()]}))],2)])])])],1):n("loading-screen",[t._v("\n  Loading...\n")])},s=[],i=(n("7f7f"),{data:function(){return{place:null,expanded:{}}},created:function(){console.log("created",this.$route.name)},methods:{loadPlace:function(){var t=this,e=this.$route.params.id,n={with_bookings:!0,safe_write:!0};this.place=null,this.$http.get("places/".concat(e),{params:n}).then((function(e){t.place=e.data}))},toggleActive:function(){var t=this;this.$http.post("places/".concat(this.place.id,"/toggle-active")).then((function(e){t.place.is_active=e.data.is_active,t.place.user_id==t.$store.user.id&&t.$store.refreshUser(),document.body.focus(),document.body.trigger("click")}))}},watch:{"$route.params.id":{immediate:!0,handler:function(t,e){t!=e&&this.loadPlace()}}}}),c=i,o=(n("566c"),n("2877")),l=Object(o["a"])(c,a,s,!1,null,null,null);e["default"]=l.exports},"566c":function(t,e,n){"use strict";var a=n("7f5b"),s=n.n(a);s.a},"7f5b":function(t,e,n){},"7f7f":function(t,e,n){var a=n("86cc").f,s=Function.prototype,i=/^\s*function ([^ (]*)/,c="name";c in s||n("9e1e")&&a(s,c,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-24826294.51b70df8.js.map