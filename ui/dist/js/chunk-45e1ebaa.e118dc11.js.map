{"version":3,"sources":["webpack:///./src/views/host/edit-room.vue?bcb4","webpack:///src/views/host/edit-room.vue","webpack:///./src/views/host/edit-room.vue?dd76","webpack:///./src/views/host/edit-room.vue","webpack:///./src/views/host/edit-room.vue?c5a4"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","form","id","on","$event","preventDefault","stopPropagation","save","staticClass","directives","name","rawName","value","expression","attrs","domProps","target","composing","$set","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","$t","isArray","is_active","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","is_female_only","_e","_l","$store","perk","key","perks","includes","splice","indexOf","push","is_dorm","model","callback","type","staticStyle","replace","class","shape","form_places","s","is_saving","$router","back","staticRenderFns","props","place","Object","required","data","original","computed","single","methods","console","log","$http","post","watch","immediate","handler","v","room","rooms","find","$utils","clone","place_id","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,KAAKC,GAAK,OAAS,UAAU,WAAWL,EAAG,OAAO,CAACM,GAAG,CAAC,OAAS,SAASC,GAAyD,OAAjDA,EAAOC,iBAAiBD,EAAOE,kBAAyBb,EAAIc,UAAU,CAACV,EAAG,WAAW,CAACW,YAAY,cAAc,CAACX,EAAG,SAAS,CAACW,YAAY,UAAU,CAACf,EAAIM,GAAG,gBAAgBF,EAAG,MAAM,CAACW,YAAY,eAAe,CAACf,EAAIM,GAAG,4BAA4BF,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnB,EAAIQ,KAAS,KAAEY,WAAW,cAAcL,YAAY,eAAeM,MAAM,CAAC,KAAO,QAAQC,SAAS,CAAC,MAAStB,EAAIQ,KAAS,MAAGE,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOY,OAAOC,WAAqBxB,EAAIyB,KAAKzB,EAAIQ,KAAM,OAAQG,EAAOY,OAAOJ,aAAaf,EAAG,MAAM,CAACW,YAAY,eAAe,CAACf,EAAIM,GAAG,4BAA4BF,EAAG,SAAS,CAACY,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnB,EAAIQ,KAAY,QAAEY,WAAW,iBAAiBL,YAAY,eAAeL,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIe,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKnB,EAAOY,OAAOQ,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEb,MAAM,OAAOgB,KAAOnC,EAAIyB,KAAKzB,EAAIQ,KAAM,UAAWG,EAAOY,OAAOc,SAAWX,EAAgBA,EAAc,OAAO,CAACtB,EAAG,SAAS,CAACkB,SAAS,CAAC,OAAQ,IAAQ,CAACtB,EAAIM,GAAGN,EAAIO,GAAGP,EAAIsC,GAAG,yBAAyBlC,EAAG,SAAS,CAACkB,SAAS,CAAC,OAAQ,IAAO,CAACtB,EAAIM,GAAGN,EAAIO,GAAGP,EAAIsC,GAAG,0BAA0BlC,EAAG,MAAM,CAACW,YAAY,eAAe,CAACX,EAAG,QAAQ,CAACW,YAAY,QAAQ,CAACX,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnB,EAAIQ,KAAc,UAAEY,WAAW,mBAAmBC,MAAM,CAAC,KAAO,YAAYC,SAAS,CAAC,QAAUK,MAAMY,QAAQvC,EAAIQ,KAAKgC,WAAWxC,EAAIyC,GAAGzC,EAAIQ,KAAKgC,UAAU,OAAO,EAAGxC,EAAIQ,KAAc,WAAGE,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI+B,EAAI1C,EAAIQ,KAAKgC,UAAUG,EAAKhC,EAAOY,OAAOqB,IAAID,EAAKE,QAAuB,GAAGlB,MAAMY,QAAQG,GAAK,CAAC,IAAII,EAAI,KAAKC,EAAI/C,EAAIyC,GAAGC,EAAII,GAAQH,EAAKE,QAASE,EAAI,GAAI/C,EAAIyB,KAAKzB,EAAIQ,KAAM,YAAakC,EAAIM,OAAO,CAACF,KAAaC,GAAK,GAAI/C,EAAIyB,KAAKzB,EAAIQ,KAAM,YAAakC,EAAIO,MAAM,EAAEF,GAAKC,OAAON,EAAIO,MAAMF,EAAI,UAAY/C,EAAIyB,KAAKzB,EAAIQ,KAAM,YAAaoC,OAAU5C,EAAIM,GAAG,iDAAiDF,EAAG,aAAa,CAACiB,MAAM,CAAC,KAAO,SAAS,CAAErB,EAAIQ,KAAY,QAAEJ,EAAG,MAAM,CAACW,YAAY,eAAe,CAACX,EAAG,QAAQ,CAACW,YAAY,QAAQ,CAACX,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnB,EAAIQ,KAAmB,eAAEY,WAAW,wBAAwBC,MAAM,CAAC,KAAO,YAAYC,SAAS,CAAC,QAAUK,MAAMY,QAAQvC,EAAIQ,KAAK0C,gBAAgBlD,EAAIyC,GAAGzC,EAAIQ,KAAK0C,eAAe,OAAO,EAAGlD,EAAIQ,KAAmB,gBAAGE,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI+B,EAAI1C,EAAIQ,KAAK0C,eAAeP,EAAKhC,EAAOY,OAAOqB,IAAID,EAAKE,QAAuB,GAAGlB,MAAMY,QAAQG,GAAK,CAAC,IAAII,EAAI,KAAKC,EAAI/C,EAAIyC,GAAGC,EAAII,GAAQH,EAAKE,QAASE,EAAI,GAAI/C,EAAIyB,KAAKzB,EAAIQ,KAAM,iBAAkBkC,EAAIM,OAAO,CAACF,KAAaC,GAAK,GAAI/C,EAAIyB,KAAKzB,EAAIQ,KAAM,iBAAkBkC,EAAIO,MAAM,EAAEF,GAAKC,OAAON,EAAIO,MAAMF,EAAI,UAAY/C,EAAIyB,KAAKzB,EAAIQ,KAAM,iBAAkBoC,OAAU5C,EAAIM,GAAG,uDAAuDN,EAAImD,QAAQ,GAAG/C,EAAG,WAAW,CAACW,YAAY,cAAc,CAACX,EAAG,SAAS,CAACW,YAAY,UAAU,CAACf,EAAIM,GAAG,cAAcN,EAAIoD,GAAIpD,EAAIqD,OAAiB,YAAE,SAASC,GAAM,OAAOlD,EAAG,MAAM,CAACmD,IAAID,EAAKvC,YAAY,eAAe,CAACX,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACiB,MAAM,CAAC,KAAO,YAAYC,SAAS,CAAC,QAAUtB,EAAIQ,KAAKgD,MAAMC,SAASH,IAAO5C,GAAG,CAAC,OAAS,SAASC,GAAQX,EAAIQ,KAAKgD,MAAMC,SAASH,GAAQtD,EAAIQ,KAAKgD,MAAME,OAAO1D,EAAIQ,KAAKgD,MAAMG,QAAQL,GAAO,GAAKtD,EAAIQ,KAAKgD,MAAMI,KAAKN,OAAUtD,EAAIM,GAAG,eAAeN,EAAIO,GAAGP,EAAIsC,GAAI,aAAegB,IAAQ,sBAAqB,GAAKtD,EAAIQ,KAAKqD,QAAwZ7D,EAAImD,KAAnZ/C,EAAG,WAAW,CAACW,YAAY,cAAc,CAACX,EAAG,SAAS,CAACW,YAAY,UAAU,CAACf,EAAIM,GAAG,WAAWF,EAAG,MAAM,CAACW,YAAY,oCAAoC,CAACX,EAAG,MAAM,CAACW,YAAY,oBAAoB,CAACf,EAAIM,GAAG,sBAAsBF,EAAG,MAAM,CAACW,YAAY,OAAO,CAACX,EAAG,cAAc,CAAC0D,MAAM,CAAC3C,MAAOnB,EAAIQ,KAAU,MAAEuD,SAAS,SAAUjB,GAAM9C,EAAIyB,KAAKzB,EAAIQ,KAAM,QAASsC,IAAM1B,WAAW,iBAAiB,OAAgBhB,EAAG,WAAW,CAACW,YAAY,cAAc,CAACX,EAAG,SAAS,CAACW,YAAY,UAAU,CAACf,EAAIM,GAAG,UAAUF,EAAG,MAAM,CAACW,YAAY,6BAA6B,CAACX,EAAG,MAAM,CAACW,YAAY,SAAS,CAACf,EAAIM,GAAG,+BAA+BF,EAAG,MAAM,CAACW,YAAY,SAAS,CAACf,EAAIM,GAAG,oCAAoCN,EAAIoD,GAAIpD,EAAIqD,OAAgB,WAAE,SAASW,GAAM,OAAO5D,EAAG,MAAM,CAACmD,IAAIS,EAAKjD,YAAY,yBAAyBkD,YAAY,CAAC,kBAAkB,WAAW,CAAC7D,EAAG,MAAM,CAAC6D,YAAY,CAAC,cAAc,QAAQ,CAACjE,EAAIM,GAAG,iBAAiBN,EAAIO,GAAGP,EAAIsC,IAAI,YAAc0B,GAAME,QAAQ,QAAS,MAAM,kBAAkB9D,EAAG,MAAM,CAACW,YAAY,oBAAoB,CAACX,EAAG,MAAM,CAACW,YAAY,uBAAuB,CAACX,EAAG,OAAO,CAACW,YAAY,8BAA8B,CAACX,EAAG,IAAI,CAAC+D,MAAO,OAASH,EAAMC,YAAY,CAAC,YAAY,gBAAgB7D,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnB,EAAIQ,KAAK4D,MAAMJ,GAAO5C,WAAW,qBAAqBL,YAAY,2BAA2BkD,YAAY,CAAC,MAAQ,OAAO,OAAS,UAAU5C,MAAM,CAAC,KAAO,SAAS,KAAO,IAAI,IAAM,KAAKC,SAAS,CAAC,MAAStB,EAAIQ,KAAK4D,MAAMJ,IAAQtD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOY,OAAOC,WAAqBxB,EAAIyB,KAAKzB,EAAIQ,KAAK4D,MAAOJ,EAAMrD,EAAOY,OAAOJ,mBAAkB,GAAGf,EAAG,MAAM,CAACW,YAAY,oBAAoB,CAACf,EAAIM,GAAG,2BAA2BN,EAAIO,GAAGP,EAAIqE,aAAa,gBAAiBrE,EAAIQ,KAAY,QAAEJ,EAAG,WAAW,CAACW,YAAY,cAAc,CAACX,EAAG,SAAS,CAACW,YAAY,UAAU,CAACf,EAAIM,GAAG,YAAYF,EAAG,MAAM,CAACW,YAAY,OAAOf,EAAIoD,GAAG,CAAE,EAAG,IAAI,SAASkB,GAAG,OAAOlE,EAAG,MAAM,CAACmD,IAAIe,EAAEvD,YAAY,wBAAwB,CAACf,EAAIM,GAAG,eAAeN,EAAIO,GAAGP,EAAIsC,GAAI,aAAegC,IAAK,gBAAgBlE,EAAG,MAAMA,EAAG,cAAc,CAAC0D,MAAM,CAAC3C,MAAOnB,EAAIQ,KAAM,IAAM8D,EAAI,UAAYP,SAAS,SAAUjB,GAAM9C,EAAIyB,KAAKzB,EAAIQ,KAAO,IAAM8D,EAAI,SAAWxB,IAAM1B,WAAW,0BAA0B,MAAK,KAAKpB,EAAImD,KAAK/C,EAAG,MAAM,CAACW,YAAY,oBAAoB,CAACX,EAAG,SAAS,CAACW,YAAY,iBAAiBM,MAAM,CAAC,SAAWrB,EAAIuE,UAAU,KAAO,UAAU7D,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBZ,EAAIwE,QAAQC,UAAU,CAACzE,EAAIM,GAAG,UAAUN,EAAIM,GAAG,qBAAqBF,EAAG,SAAS,CAACW,YAAY,kBAAkBM,MAAM,CAAC,SAAWrB,EAAIuE,UAAU,KAAO,WAAW,CAACvE,EAAIM,GAAG,iBACjnMoE,EAAkB,GC2GtB,G,oBAAA,CACEC,MAAO,CACLC,MAAO,CACLZ,KAAMa,OACNC,UAAU,IAIdC,KARF,WASI,MAAO,CACLvE,KAAM,KACN+D,WAAW,EACXS,SAAU,OAIdC,SAAU,CACRZ,YADJ,WAEM,OAAuC,GAA/BpE,KAAKO,KAAK4D,MAAMc,QAAU,GACxC,8BACA,sCACA,wCAIEC,QAAS,CACPrE,KADJ,WACA,WACMb,KAAKsE,WAAY,EACjBa,QAAQC,IAAI,UACZpF,KAAKqF,MAAMC,KAAK,QAAtB,6BACY,EAAZ,wDACY,EAAZ,0CACA,2BACQ,EAAR,yEACA,wCAIEC,MAAO,CACL,wBAAyB,CACvBC,WAAW,EACXC,QAFN,SAEA,GACQN,QAAQC,IAAI,mBACZ,IAAR,OACQ,GAAIM,EAAG,CAEL,GADAC,EAAO3F,KAAK2E,MAAMiB,MAAMC,MAAK,SAAvC,sBACcF,EAGF,OAAO3F,KAAKuE,QAAQC,OAFpBxE,KAAK+E,SAAWY,EAMpB3F,KAAKO,KAAOP,KAAK8F,OAAOC,MAAMJ,IAAS,CACrCK,SAAUhG,KAAK2E,MAAMnE,GACrB2D,MAAO,GACPZ,MAAO,SCpKiV,I,wBCQ9V0C,EAAY,eACd,EACAnG,EACA2E,GACA,EACA,KACA,KACA,MAIa,aAAAwB,E,6CCnBf,yBAAgiB,EAAG","file":"js/chunk-45e1ebaa.e118dc11.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(_vm._s(_vm.form.id ? 'Edit' : 'Create')+\" Room\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.save()}}},[_c('fieldset',{staticClass:\"form-group\"},[_c('legend',{staticClass:\"legend\"},[_vm._v(\"Basic Info\")]),_c('div',{staticClass:\"my-form-row\"},[_vm._v(\"\\n        Name\\n        \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"my-form-row\"},[_vm._v(\"\\n        Type\\n        \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.is_dorm),expression:\"form.is_dorm\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"is_dorm\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":false}},[_vm._v(_vm._s(_vm.$t(\"room_type.private\")))]),_c('option',{domProps:{\"value\":true}},[_vm._v(_vm._s(_vm.$t(\"room_type.dorm\")))])])]),_c('div',{staticClass:\"my-form-row\"},[_c('label',{staticClass:\"ml-5\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.is_active),expression:\"form.is_active\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.form.is_active)?_vm._i(_vm.form.is_active,null)>-1:(_vm.form.is_active)},on:{\"change\":function($event){var $$a=_vm.form.is_active,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"is_active\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"is_active\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"is_active\", $$c)}}}}),_vm._v(\"\\n          This room is active\\n        \")])]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.form.is_dorm)?_c('div',{staticClass:\"my-form-row\"},[_c('label',{staticClass:\"ml-5\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.is_female_only),expression:\"form.is_female_only\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.form.is_female_only)?_vm._i(_vm.form.is_female_only,null)>-1:(_vm.form.is_female_only)},on:{\"change\":function($event){var $$a=_vm.form.is_female_only,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"is_female_only\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"is_female_only\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"is_female_only\", $$c)}}}}),_vm._v(\"\\n            Exclusive for females\\n          \")])]):_vm._e()])],1),_c('fieldset',{staticClass:\"form-group\"},[_c('legend',{staticClass:\"legend\"},[_vm._v(\"Features\")]),_vm._l((_vm.$store.room_perks),function(perk){return _c('div',{key:perk,staticClass:\"my-form-row\"},[_c('label',[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.form.perks.includes(perk)},on:{\"change\":function($event){_vm.form.perks.includes(perk) ? _vm.form.perks.splice(_vm.form.perks.indexOf(perk), 1) : _vm.form.perks.push(perk)}}}),_vm._v(\"\\n          \"+_vm._s(_vm.$t((\"room_perk.\" + perk)))+\"\\n        \")])])})],2),(!_vm.form.is_dorm)?_c('fieldset',{staticClass:\"form-group\"},[_c('legend',{staticClass:\"legend\"},[_vm._v(\"Price\")]),_c('div',{staticClass:\"row no-gutters mb-3 align-center\"},[_c('div',{staticClass:\"col-5 text-right\"},[_vm._v(\"Price per night:\")]),_c('div',{staticClass:\"col\"},[_c('price-input',{model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1)])]):_vm._e(),_c('fieldset',{staticClass:\"form-group\"},[_c('legend',{staticClass:\"legend\"},[_vm._v(\"Beds\")]),_c('div',{staticClass:\"row text-center gutters-1\"},[_c('div',{staticClass:\"col-6\"},[_vm._v(\"\\n          Bed\\n        \")]),_c('div',{staticClass:\"col-6\"},[_vm._v(\"\\n          Bunk bed\\n        \")]),_vm._l((_vm.$store.bed_types),function(type){return _c('div',{key:type,staticClass:\"col-3 lh-2 text-center\",staticStyle:{\"justify-content\":\"bottom\"}},[_c('div',{staticStyle:{\"line-height\":\"1.2\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t((\"bed_type.\" + type).replace('-bunk', '')))+\"\\n          \")]),_c('div',{staticClass:\"input-group mt-1\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text px-1 py-0\"},[_c('i',{class:(\"bed \" + type),staticStyle:{\"font-size\":\"1.8rem\"}})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.shape[type]),expression:\"form.shape[type]\"}],staticClass:\"form-control text-center\",staticStyle:{\"width\":\"1rem\",\"margin\":\"0 auto\"},attrs:{\"type\":\"number\",\"step\":\"1\",\"min\":\"0\"},domProps:{\"value\":(_vm.form.shape[type])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.shape, type, $event.target.value)}}})])])})],2),_c('div',{staticClass:\"text-center mt-2\"},[_vm._v(\"\\n        Total places: \"+_vm._s(_vm.form_places)+\"\\n      \")])]),(_vm.form.is_dorm)?_c('fieldset',{staticClass:\"form-group\"},[_c('legend',{staticClass:\"legend\"},[_vm._v(\"Prices\")]),_c('div',{staticClass:\"row\"},_vm._l(([1, 2]),function(s){return _c('div',{key:s,staticClass:\"col text-center lh-2\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t((\"bed_price.\" + s)))+\"\\n          \"),_c('br'),_c('price-input',{model:{value:(_vm.form[(\"b\" + s + \"_price\")]),callback:function ($$v) {_vm.$set(_vm.form, (\"b\" + s + \"_price\"), $$v)},expression:\"form[`b${s}_price`]\"}})],1)}),0)]):_vm._e(),_c('div',{staticClass:\"text-center my-3\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"disabled\":_vm.is_saving,\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$router.back()}}},[_vm._v(\"Back\")]),_vm._v(\"\\n      Â \\n      \"),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":_vm.is_saving,\"type\":\"submit\"}},[_vm._v(\"Save\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div>\n    <h3>{{ form.id ? 'Edit' : 'Create' }} Room</h3>\n\n    <form @submit.prevent.stop=\"save()\">\n      <fieldset class=\"form-group\">\n        <legend class=\"legend\">Basic Info</legend>\n        <div class=\"my-form-row\">\n          Name\n          <input v-model=\"form.name\" type=\"text\" class=\"form-control\">\n        </div>\n        <div class=\"my-form-row\">\n          Type\n          <select v-model=\"form.is_dorm\" class=\"form-control\">\n            <option :value=\"false\">{{ $t(`room_type.private`) }}</option>\n            <option :value=\"true\">{{ $t(`room_type.dorm`) }}</option>\n          </select>\n        </div>\n        <div class=\"my-form-row\">\n          <label class=\"ml-5\">\n            <input type=\"checkbox\" v-model=\"form.is_active\">\n            This room is active\n          </label>\n        </div>\n        <transition name=\"fade\">\n          <div v-if=\"form.is_dorm\" class=\"my-form-row\">\n            <label class=\"ml-5\">\n              <input type=\"checkbox\" v-model=\"form.is_female_only\"/>\n              Exclusive for females\n            </label>\n          </div>\n        </transition>\n      </fieldset>\n\n      <fieldset class=\"form-group\">\n        <legend class=\"legend\">Features</legend>\n        <div v-for=\"perk in $store.room_perks\" :key=\"perk\" class=\"my-form-row\">\n          <label>\n            <input type=\"checkbox\" :checked=\"form.perks.includes(perk)\"\n            @change=\"form.perks.includes(perk) ? form.perks.splice(form.perks.indexOf(perk), 1) : form.perks.push(perk)\"/>\n            {{ $t(`room_perk.${perk}`) }}\n          </label>\n        </div>\n      </fieldset>\n\n      <fieldset v-if=\"!form.is_dorm\" class=\"form-group\">\n        <legend class=\"legend\">Price</legend>\n\n        <div class=\"row no-gutters mb-3 align-center\">\n          <div class=\"col-5 text-right\">Price per night:</div>\n          <div class=\"col\">\n            <price-input v-model=\"form.price\"/>\n          </div>\n        </div>\n      </fieldset>\n\n      <fieldset class=\"form-group\">\n        <legend class=\"legend\">Beds</legend>\n        <div class=\"row text-center gutters-1\">\n          <div class=\"col-6\">\n            Bed\n          </div>\n          <div class=\"col-6\">\n            Bunk bed\n          </div>\n          <div v-for=\"type in $store.bed_types\" :key=\"type\" class=\"col-3 lh-2 text-center\" style=\"justify-content: bottom;\">\n            <div style=\"line-height:1.2\">\n              {{ $t(`bed_type.${type}`.replace('-bunk', '')) }}\n            </div>\n            <div class=\"input-group mt-1\">\n              <div class=\"input-group-prepend\">\n                <span class=\"input-group-text px-1 py-0\">\n                  <i :class=\"`bed ${type}`\" style=\"font-size: 1.8rem\"></i>\n                </span>\n              </div>\n              <input v-model=\"form.shape[type]\"\n              type=\"number\" step=\"1\" min=\"0\"\n              class=\"form-control text-center\"\n              style=\"width: 1rem; margin: 0 auto\"/>\n            </div>\n          </div>\n        </div>\n        <div class=\"text-center mt-2\">\n          Total places: {{ form_places }}\n        </div>\n      </fieldset>\n\n      <fieldset class=\"form-group\" v-if=\"form.is_dorm\">\n        <legend class=\"legend\">Prices</legend>\n        <div class=\"row\">\n          <div v-for=\"s in [1, 2]\" :key=\"s\" class=\"col text-center lh-2\">\n            {{ $t(`bed_price.${s}`) }}\n            <br>\n            <price-input v-model=\"form[`b${s}_price`]\"/>\n          </div>\n        </div>\n      </fieldset>\n\n      <div class=\"text-center my-3\">\n        <button :disabled=\"is_saving\" @click.prevent=\"$router.back()\" class=\"btn btn-danger\" type=\"button\">Back</button>\n        &nbsp;\n        <button :disabled=\"is_saving\" class=\"btn btn-primary\" type=\"submit\">Save</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    place: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data () {\n    return {\n      form: null,\n      is_saving: false,\n      original: null,\n    }\n  },\n\n  computed: {\n    form_places () {\n      return (this.form.shape.single || 0) * 1\n          + (this.form.shape.double || 0) * 2\n          + (this.form.shape['single-bunk'] || 0) * 2\n          + (this.form.shape['double-bunk'] || 0) * 4\n    }\n  },\n\n  methods: {\n    save () {\n      this.is_saving = true\n      console.log('saving')\n      this.$http.post(`rooms`, this.form).then(res => {\n        if (this.place.user_id == this.$store.user.id) this.$store.refreshUser()\n        if (this.original) Object.assign(this.original, res.data)\n        else this.place.rooms.push(res.data)\n        this.$router.replace({ name: 'manage-rooms', params: { id: this.$route.params.id }})\n      }).finally(() => { this.is_saving = false })\n    },\n  },\n\n  watch: {\n    '$route.params.room_id': {\n      immediate: true,\n      handler (v) {\n        console.log('room_id changed')\n        let room = null\n        if (v) {\n          room = this.place.rooms.find(r => r.id == v)\n          if (room) {\n            this.original = room\n          } else {\n            return this.$router.back()\n          }\n        }\n\n        this.form = this.$utils.clone(room) || {\n          place_id: this.place.id,\n          shape: {},\n          perks: [],\n        }\n      }\n    }\n  }\n\n\n}\n</script>\n\n<style lang=\"scss\">\n.form-section {\n  margin: 0 0 3rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-room.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-room.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit-room.vue?vue&type=template&id=ee67d8f2&lang=html&\"\nimport script from \"./edit-room.vue?vue&type=script&lang=js&\"\nexport * from \"./edit-room.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit-room.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-room.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-room.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}